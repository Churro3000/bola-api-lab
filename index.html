<!-- index.html – Main page structure with professional centered login and dashboard -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BOLA API Lab – Broken Object Level Authorization</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Login section – centered card -->
  <section id="login-section" class="card">
    <h1>BOLA API Lab</h1>
    <p>Simulated REST API demonstrating OWASP API #1: Broken Object Level Authorization</p>
    <h2>Login</h2>
    <select id="user-select">
      <option value="1">User Alice (ID 1)</option>
      <option value="2">User Bob (ID 2)</option>
      <option value="3">User Charlie (ID 3)</option>
      <option value="999">Admin (ID 999)</option>
    </select>
    <button id="login-btn">Login & Get JWT</button>
    <p id="login-status"></p>
  </section>

  <!-- Dashboard section – hidden until login, with logout -->
  <section id="dashboard" class="card hidden">
    <h2>Dashboard – Logged in as <span id="current-user"></span></h2>
    <p>Your JWT: <code id="jwt-display"></code></p>
    <button id="get-profile">Get Profile (GET /api/profile/{id})</button>
    <button id="get-order">Get Order (GET /api/orders/{id})</button>
    <button id="update-profile">Update Profile (PUT /api/profile/{id})</button>
    <button id="logout-btn">Logout</button>

    <div id="api-response" class="response-box"></div>

    <h3>Exploit BOLA</h3>
    <p>Change the "id" in the payload below (e.g. to 2 or 999) and click a button — you'll access other users' data!</p>
    <textarea id="request-payload" rows="6">{"id": "1", "name": "Updated Name", "email": "updated@email.com"}</textarea>
  </section>

  <script src="script.js"></script>
</body>
</html>
